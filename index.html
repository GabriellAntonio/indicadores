<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSMAR - Painel de Metas 2025</title>

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè•</text></svg>">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body { background-color: #f8fafc; }
        /* Ajuste para barra de rolagem */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Componente para √çcones Lucide
        const Icon = ({ name, className }) => {
            const iconName = name || 'Circle'; 
            
            useEffect(() => {
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [name]); // Re-executa quando o nome do √≠cone muda

            // Converte PascalCase para kebab-case (ex: MapPinned -> map-pinned)
            const kebabName = iconName.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();

            return <i data-lucide={kebabName} className={className}></i>;
        };

        // --- DADOS INDICADORES CADASTRO & ACS (NT 30/2025) ---
        const acsIndicators = [
          {
            id: "CAD1",
            code: "Peso do Cadastro",
            title: "Qualidade do Cadastro",
            iconName: "MapPinned",
            category: "Cadastro",
            targetDescription: "Peso 1.5 (Completo)",
            unit: "pontos/pessoa",
            description: "Define o peso da pessoa no c√°lculo do financiamento baseado na completude do cadastro.",
            requirements: [
              { title: "Peso 1.5 (M√°ximo)", text: "Cidad√£o com Cadastro Individual (CPF/CNS) + Cadastro Domiciliar vinculados." },
              { title: "Peso 0.75 (Parcial)", text: "Cidad√£o apenas com Cadastro Individual (sem v√≠nculo domiciliar)." },
              { title: "Inv√°lido", text: "Cadastros simplificados/r√°pidos n√£o contam para o indicador." }
            ],
            technicalDetails: {
              procedures: [
                "Realizar Cadastro Domiciliar (Vincular im√≥vel ao territ√≥rio)",
                "Realizar Cadastro Individual (Vincular cidad√£o ao im√≥vel)",
                "Vincular Respons√°vel Familiar"
              ],
              cbos: [
                "Agente Comunit√°rio de Sa√∫de - ACS (5151)",
                "Agente de Combate a Endemias - ACE (CBO 5151-F1 - se integrado)",
                "Enfermeiro/M√©dico (Para Cadastro Individual apenas)"
              ],
              forms: [
                "Ficha de Cadastro Domiciliar e Territorial (e-SUS)",
                "Ficha de Cadastro Individual (e-SUS)"
              ]
            }
          },
          {
            id: "CAD2",
            code: "Validade",
            title: "Atualiza√ß√£o e Desempate",
            iconName: "ClipboardCheck",
            category: "Cadastro",
            targetDescription: "24 Meses",
            unit: "validade",
            description: "Regras de saneamento, validade temporal e crit√©rios de disputa de v√≠nculo entre equipes.",
            requirements: [
              { title: "Regra dos 2 Anos", text: "Cadastros n√£o atualizados h√° mais de 24 meses s√£o desconsiderados." },
              { title: "Saneamento", text: "Cadastros marcados como 'Mudan√ßa de Territ√≥rio' ou '√ìbito' n√£o contam." },
              { title: "Desempate de V√≠nculo", text: "Se o cidad√£o for atendido por mais de uma equipe, o v√≠nculo fica com quem tiver (nesta ordem): 1¬∫ Mais atendimentos no ano; 2¬∫ Atendimento mais recente; 3¬∫ Cadastro mais recente." }
            ],
            technicalDetails: {
              procedures: [
                "Visita Domiciliar para atualiza√ß√£o de dados",
                "Edi√ß√£o de cadastro no atendimento na unidade (Recep√ß√£o/Consult√≥rio)"
              ],
              cbos: [
                "Agente Comunit√°rio de Sa√∫de - ACS (Visita)",
                "Qualquer profissional da equipe (Na unidade)"
              ],
              forms: [
                "Ficha de Visita Domiciliar (Campo: Motivo da Visita -> Atualiza√ß√£o Cadastral)",
                "Ficha de Cadastro Individual (Editar e Salvar)"
              ]
            }
          },
          {
            id: "VINC1",
            code: "V√≠nculo",
            title: "Acompanhamento (V√≠nculo)",
            iconName: "Users",
            category: "Acompanhamento",
            targetDescription: "Peso at√© 2.5",
            unit: "pondera√ß√£o",
            description: "Antiga 'Capita√ß√£o Ponderada'. Define quanto vale cada pessoa acompanhada baseada na vulnerabilidade.",
            requirements: [
              { title: "Regra de Ouro", text: "Para validar o v√≠nculo, √© necess√°rio ter 2 contatos no ano, sendo OBRIGAT√ìRIO que pelo menos 1 seja uma 'Pr√°tica de Cuidado' (Consulta, Visita, Grupo, Odonto ou Consumo Alimentar)." },
              { title: "Combina√ß√µes V√°lidas", text: "1 Pr√°tica + 1 Procedimento (ex: Consulta + Vacina) OU 2 Pr√°ticas (ex: Consulta + Visita)." },
              { title: "Combina√ß√£o Inv√°lida", text: "Apenas 2 Procedimentos (ex: Vacina + Curativo) N√ÉO geram v√≠nculo." },
              { title: "Pesos", text: "Base (1.0), Crian√ßa/Idoso (1.2), Bolsa Fam√≠lia/BPC (1.3), Crian√ßa/Idoso + Benef√≠cio (2.5)." }
            ],
            technicalDetails: {
              procedures: [
                "Pr√°ticas de Cuidado (Obrigat√≥rio pelo menos 1): Consulta M√©dica/Enf/Odonto, Visita Domiciliar, Atividade Coletiva, Marcadores de Consumo Alimentar.",
                "Procedimentos (Serve como 2¬∫ contato): Vacina√ß√£o, Aferi√ß√£o de PA, Curativo, Medi√ß√£o de Peso/Altura."
              ],
              cbos: [
                "M√©dicos, Enfermeiros, Dentistas",
                "T√©cnicos de Enfermagem / Sa√∫de Bucal",
                "ACS (Visita conta como Pr√°tica de Cuidado)"
              ],
              forms: [
                "MIAI, MIAOI, MIAC (Coletiva)",
                "Ficha de Marcadores de Consumo Alimentar",
                "Ficha de Visita Domiciliar (MIVDT)",
                "Ficha de Procedimentos / Vacina√ß√£o"
              ]
            }
          },
          {
            id: "VINC2",
            code: "Satisfa√ß√£o",
            title: "Avalia√ß√£o do Usu√°rio",
            iconName: "UserCheck",
            category: "Acompanhamento",
            targetDescription: "+ 0.30 pts",
            unit: "b√¥nus",
            description: "Pontua√ß√£o extra baseada na avalia√ß√£o do atendimento pelo cidad√£o no app 'Meu SUS Digital'.",
            requirements: [
              { title: "B√¥nus Pequeno (+0.15)", text: "Se menos de 5% dos atendimentos forem avaliados." },
              { title: "B√¥nus M√°ximo (+0.30)", text: "Se 5% ou mais dos atendimentos da equipe forem avaliados." },
              { title: "Nota", text: "N√£o importa se a avalia√ß√£o √© positiva ou negativa, apenas se foi feita." }
            ],
            technicalDetails: {
              procedures: [
                "Incentivar o usu√°rio a baixar o app 'Meu SUS Digital'",
                "Avaliar o atendimento ap√≥s a consulta/visita"
              ],
              cbos: [
                "Todos os profissionais da equipe (Divulga√ß√£o)"
              ],
              forms: [
                "Aplicativo 'Meu SUS Digital' (Cidad√£o)"
              ]
            }
          }
        ];

        // --- DADOS INDICADORES EMULTI (M1, M2) ---
        const eMultiIndicators = [
          {
            id: "M1",
            code: "M1",
            title: "M√©dia de Atendimentos eMulti",
            iconName: "Activity",
            category: "Acesso eMulti",
            targetDescription: "Maior que 3,0",
            unit: "atend/pessoa",
            description: "Mensura a m√©dia de atendimentos por pessoa realizados pela equipe Multiprofissional.",
            requirements: [
              { title: "Meta", text: "Garantir que a equipe realize um volume adequado de atendimentos em rela√ß√£o √† popula√ß√£o assistida." },
              { title: "Regra", text: "Evitar duplicidade: Se o mesmo paciente for atendido 2x no mesmo dia pelo mesmo profissional, conta s√≥ 1." }
            ],
            technicalDetails: {
              procedures: [
                "Atendimento Individual (Presencial, Domiciliar ou Remoto)",
                "Atividade Coletiva (Educa√ß√£o em Sa√∫de, Grupo, Pr√°ticas Corporais)",
                "Atendimentos Compartilhados (contam para cada profissional)"
              ],
              cbos: [
                "Nutricionista (2237)", "Fisioterapeuta (2236)", "Psic√≥logo (2515)", 
                "Assistente Social (2516)", "Fonoaudi√≥logo (2238)", "Farmac√™utico (2234)", 
                "Terapeuta Ocupacional (2239)", "Prof. Ed. F√≠sica (2241)", "Arte Educador (5153)", 
                "Sanitarista (1312)", "M√©dicos Especialistas (Cardio, Dermato, Psiquiatra, etc)"
              ],
              forms: [
                "Ficha de Atendimento Individual (e-SUS)",
                "Ficha de Atividade Coletiva (e-SUS)"
              ]
            }
          },
          {
            id: "M2",
            code: "M2",
            title: "A√ß√µes Interprofissionais",
            iconName: "Users",
            category: "Trabalho Colaborativo",
            targetDescription: "Maior que 5%",
            unit: "% a√ß√µes",
            description: "Propor√ß√£o de a√ß√µes realizadas de forma compartilhada (matriciamento, consultas conjuntas).",
            requirements: [
              { title: "Regra de Ouro", text: "A√ß√£o deve ter SIMULTANEAMENTE no m√≠nimo 2 profissionais de CNS diferentes." },
              { title: "Obrigat√≥rio", text: "Pelo menos 1 dos profissionais DEVE ser da eMulti (CBO listado)." }
            ],
            technicalDetails: {
              procedures: [
                "Consulta Compartilhada (2 profissionais ao mesmo tempo)",
                "Atividade Coletiva com tema 'Discuss√£o de Caso/Projeto Terap√™utico Singular (PTS)'",
                "Reuni√£o de Matriciamento entre equipes",
                "Resposta a solicita√ß√£o de interconsulta no PEC (M√≥dulo Compartilhamento)"
              ],
              cbos: [
                "Obrigat√≥rio: 1 Profissional eMulti (Nutri, Psico, Fisio, etc)",
                "+",
                "1 Profissional de qualquer equipe (M√©dico, Enf, Dentista, ACS, Tec. Enf)"
              ],
              forms: [
                "Ficha de Atendimento Individual (Adicionar profissional participante)",
                "Ficha de Atividade Coletiva (Marcar tema: Discuss√£o de Caso/PTS - C√≥d 05)",
                "Prontu√°rio Eletr√¥nico (PEC) - M√≥dulo Compartilhamento de Cuidado"
              ]
            }
          }
        ];

        // --- DADOS INDICADORES APS (C1 a C7) - ATUALIZADO COM NOTAS METODOL√ìGICAS ---
        const apsIndicators = [
          {
            id: "C1",
            code: "C1",
            title: "Mais Acesso √† APS",
            iconName: "Accessibility",
            category: "Acesso",
            targetDescription: "> 50%",
            description: "Percentual de atendimentos de demanda programada em rela√ß√£o ao total.",
            requirements: [
              { title: "Numerador", text: "Atendimentos de demanda programada (Consulta agendada, Cuidado continuado)." },
              { title: "Denominador", text: "Total de atendimentos (Programados + Espont√¢neos)." },
              { title: "Objetivo", text: "Equilibrar a oferta entre urg√™ncias e cuidado continuado/preventivo." }
            ],
            technicalDetails: {
              procedures: [
                "Consulta Agendada Programada",
                "Cuidado Continuado/Programado"
              ],
              cbos: [
                "M√©dico da Estrat√©gia de Sa√∫de da Fam√≠lia (2251)",
                "Enfermeiro da Estrat√©gia de Sa√∫de da Fam√≠lia (2235)"
              ],
              forms: [
                "Ficha de Atendimento Individual (Campo: Tipo de Atendimento)"
              ]
            }
          },
          {
            id: "C2",
            code: "C2",
            title: "Desenvolvimento Infantil",
            iconName: "Baby",
            category: "Sa√∫de da Crian√ßa",
            targetDescription: "> 75%",
            description: "Monitoramento integral de crian√ßas at√© 2 anos.",
            requirements: [
              { title: "Boas Pr√°ticas (A-E)", text: "Acumular pontos por pr√°ticas realizadas." },
              { title: "Consultas (B)", text: "Pelo menos 9 consultas (M√©d/Enf) at√© 2 anos." },
              { title: "Peso e Altura (C)", text: "Pelo menos 9 registros simult√¢neos de peso/altura at√© 2 anos." },
              { title: "Visitas Domiciliares (D)", text: "2 Visitas obrigat√≥rias: 1¬™ at√© 30 dias e 2¬™ at√© 6 meses." },
              { title: "Vacina√ß√£o (E)", text: "Penta, P√≥lio (VIP), Pneumo 10, SCR (Doses do esquema prim√°rio)." }
            ],
            technicalDetails: {
              procedures: [
                "Consulta de Puericultura (03.01.01.007-2)",
                "Avalia√ß√£o Antropom√©trica (01.01.04.002-4)",
                "Visita Domiciliar ACS (Motivo: Rec√©m-nascido ou Crian√ßa)"
              ],
              cbos: [
                "M√©dico / Enfermeiro (Consultas)",
                "T√©cnico de Enfermagem (Vacinas)",
                "ACS (Visitas)"
              ],
              forms: [
                "Ficha de Atendimento Individual (MIAI)",
                "Ficha de Vacina√ß√£o (MIV)",
                "Ficha de Visita Domiciliar (MIVDT)"
              ]
            }
          },
          {
            id: "C3",
            code: "C3",
            title: "Gesta√ß√£o e Puerp√©rio",
            iconName: "HeartPulse",
            category: "Sa√∫de da Mulher",
            targetDescription: "> 75%",
            description: "Cuidado longitudinal da gestante e pu√©rpera (11 Boas Pr√°ticas - A a K).",
            requirements: [
              { title: "Consultas (A, B, I)", text: "1¬™ at√© 12¬™ semana + 7 durante gesta√ß√£o + 1 Puerperal." },
              { title: "Monitoramento (C, D)", text: "7 aferi√ß√µes de PA + 7 registros de Peso/Altura na gesta√ß√£o." },
              { title: "Visitas ACS (E, J)", text: "3 visitas durante a gesta√ß√£o + 1 visita no puerp√©rio." },
              { title: "Preven√ß√£o (F)", text: "Vacina dTpa a partir da 20¬™ semana." },
              { title: "Exames (G, H)", text: "S√≠filis/HIV/HepB/HepC (1¬∫ tri) + S√≠filis/HIV (3¬∫ tri)." },
              { title: "Odonto (K)", text: "1 consulta odontol√≥gica na gesta√ß√£o." }
            ],
            technicalDetails: {
              procedures: [
                "Consulta Pr√©-natal e Puerperal",
                "Testes R√°pidos (S√≠filis, HIV, Hep B/C)",
                "Vacina dTpa adulto",
                "Atendimento Odontol√≥gico"
              ],
              cbos: [
                "M√©dico / Enfermeiro",
                "Cirurgi√£o-Dentista",
                "ACS (Visitas)"
              ],
              forms: [
                "MIAI", "MIAOI", "Ficha de Procedimentos", "Ficha de Vacina√ß√£o"
              ]
            }
          },
          {
            id: "C4",
            code: "C4",
            title: "Cuidado com Diabetes",
            iconName: "Stethoscope",
            category: "Cr√¥nicas",
            targetDescription: "> 75%",
            description: "Acompanhamento de pessoas com Diabetes (6 Boas Pr√°ticas).",
            requirements: [
              { title: "Consultas (A)", text: "1 consulta (M√©d/Enf) no semestre." },
              { title: "Press√£o Arterial (B)", text: "1 aferi√ß√£o de PA no semestre." },
              { title: "Anual (C, E, F)", text: "1 Peso/Altura + 1 Hemoglobina Glicada + 1 Exame dos P√©s (√∫ltimos 12 meses)." },
              { title: "Visitas (D)", text: "2 Visitas Domiciliares (ACS) nos √∫ltimos 12 meses (intervalo m√≠n. 30 dias)." }
            ],
            technicalDetails: {
              procedures: [
                "Consulta M√©dica/Enfermagem",
                "Solicita√ß√£o de HbA1c (02.02.01.050-3)",
                "Avalia√ß√£o de P√© Diab√©tico (03.01.04.009-5)",
                "Aferi√ß√£o de PA"
              ],
              cbos: [
                "M√©dico / Enfermeiro",
                "T√©cnico de Enfermagem (PA/Antropometria)",
                "ACS (Visitas)"
              ],
              forms: [
                "MIAI", "Ficha de Procedimentos"
              ]
            }
          },
          {
            id: "C5",
            code: "C5",
            title: "Cuidado com Hipertens√£o",
            iconName: "Stethoscope",
            category: "Cr√¥nicas",
            targetDescription: "> 75%",
            description: "Acompanhamento de pessoas com Hipertens√£o (4 Boas Pr√°ticas).",
            requirements: [
              { title: "Semestral (A, B)", text: "1 consulta (M√©d/Enf) + 1 Aferi√ß√£o de PA." },
              { title: "Anual (C)", text: "1 registro de Peso e Altura nos √∫ltimos 12 meses." },
              { title: "Visitas (D)", text: "2 Visitas Domiciliares (ACS) nos √∫ltimos 12 meses (intervalo m√≠n. 30 dias)." }
            ],
            technicalDetails: {
              procedures: [
                "Consulta M√©dica/Enfermagem",
                "Aferi√ß√£o de Press√£o Arterial (03.01.10.003-9)",
                "Avalia√ß√£o Antropom√©trica"
              ],
              cbos: [
                "M√©dico / Enfermeiro",
                "T√©cnico de Enfermagem",
                "ACS (Visitas)"
              ],
              forms: [
                "MIAI", "Ficha de Procedimentos"
              ]
            }
          },
          {
            id: "C6",
            code: "C6",
            title: "Cuidado da Pessoa Idosa",
            iconName: "Users",
            category: "Idosos",
            targetDescription: "> 75%",
            description: "Aten√ß√£o integral √† sa√∫de da pessoa com 60 anos ou mais (4 Boas Pr√°ticas).",
            requirements: [
              { title: "Consulta (A)", text: "1 consulta (M√©d/Enf) nos √∫ltimos 12 meses." },
              { title: "Antropometria (B)", text: "1 registro simult√¢neo de Peso e Altura nos √∫ltimos 12 meses." },
              { title: "Visitas (C)", text: "2 Visitas Domiciliares (ACS) nos √∫ltimos 12 meses (intervalo m√≠n. 30 dias)." },
              { title: "Vacina√ß√£o (D)", text: "1 dose de vacina Influenza (Gripe) nos √∫ltimos 12 meses." }
            ],
            technicalDetails: {
              procedures: [
                "Consulta M√©dica/Enfermagem",
                "Vacina√ß√£o Influenza (33 ou 77)",
                "Medi√ß√£o de Peso e Altura"
              ],
              cbos: [
                "M√©dico / Enfermeiro",
                "T√©cnico de Enfermagem",
                "ACS"
              ],
              forms: [
                "Ficha de Vacina√ß√£o", "MIAI", "Ficha de Procedimentos"
              ]
            }
          },
          {
            id: "C7",
            code: "C7",
            title: "Preven√ß√£o do C√¢ncer",
            iconName: "ShieldPlus",
            category: "Sa√∫de da Mulher",
            targetDescription: "> 75%",
            description: "Rastreamento de c√¢ncer e sa√∫de sexual (Mulheres e Homens Transg√™nero).",
            requirements: [
              { title: "Colo do √ötero (A)", text: "Citopatol√≥gico (25-64 anos) a cada 36 meses." },
              { title: "Mama (D)", text: "Mamografia (50-69 anos) a cada 24 meses." },
              { title: "Vacina HPV (B)", text: "1 dose para meninas de 9 a 14 anos." },
              { title: "Sa√∫de Sexual (C)", text: "1 atendimento sobre sa√∫de sexual/reprodutiva (14-69 anos) nos √∫ltimos 12 meses." }
            ],
            technicalDetails: {
              procedures: [
                "Coleta de Citopatol√≥gico (02.01.02.003-3)",
                "Mamografia Bilateral (02.04.03.018-8)",
                "Vacina HPV (67 ou 93)",
                "Atendimento Sa√∫de Sexual (CID/CIAP espec√≠fico)"
              ],
              cbos: [
                "Enfermeiro / M√©dico",
                "Equipe Multi (para sa√∫de sexual)"
              ],
              forms: [
                "MIAI", "Ficha de Procedimentos", "Ficha de Vacina√ß√£o"
              ]
            }
          }
        ];

        // --- DADOS INDICADORES SA√öDE BUCAL (B1 a B6) ---
        const oralHealthIndicators = [
          {
            id: "B1",
            code: "B1",
            title: "Primeira Consulta Programada",
            iconName: "Smile",
            category: "Acesso",
            targetDescription: "> 5%",
            unit: "% cobertura",
            description: "Cobertura de primeira consulta odontol√≥gica program√°tica em rela√ß√£o √† popula√ß√£o adscrita.",
            requirements: [
              { title: "Numerador", text: "Pessoas com 1¬™ consulta program√°tica (C√≥d 03.01.01.015-3)." },
              { title: "Regra", text: "Usu√°rio contabilizado apenas 1 vez a cada 12 meses para o mesmo dentista." }
            ],
            technicalDetails: {
              procedures: ["03.01.01.015-3 - Primeira Consulta Odontol√≥gica Program√°tica"],
              cbos: [
                "Cirurgi√£o-Dentista ESF (2232-93)", 
                "Cirurgi√£o-Dentista Cl√≠nico Geral (2232-08)",
                "Cirurgi√£o-Dentista Sa√∫de Coletiva (2232-72)"
              ],
              forms: ["Ficha de Atendimento Odontol√≥gico Individual (MIAOI) -> Campo: Tipo de Consulta"]
            }
          },
          {
            id: "B2",
            code: "B2",
            title: "Tratamento Conclu√≠do",
            iconName: "Smile",
            category: "Resolutividade",
            targetDescription: "> 75%",
            unit: "% conclus√£o",
            description: "Percentual de tratamentos conclu√≠dos em rela√ß√£o √†s primeiras consultas program√°ticas.",
            requirements: [
              { title: "Numerador", text: "Pessoas com tratamento conclu√≠do (Conduta: Tratamento Conclu√≠do)." },
              { title: "Denominador", text: "Total de primeiras consultas odontol√≥gicas program√°ticas." }
            ],
            technicalDetails: {
              procedures: ["Registro de fim de tratamento no plano terap√™utico"],
              cbos: ["Cirurgi√£o-Dentista (2232-93, 2232-08, 2232-72)"],
              forms: ["MIAOI -> Campo Conduta: Selecionar 'Tratamento Conclu√≠do'"]
            }
          },
          {
            id: "B3",
            code: "B3",
            title: "Taxa de Exodontia",
            iconName: "Smile",
            category: "Curativo",
            targetDescription: "8% a 10%",
            unit: "% exodontias",
            description: "Propor√ß√£o de extra√ß√µes dent√°rias em rela√ß√£o ao total de procedimentos individuais.",
            requirements: [
              { title: "Numerador", text: "Exodontias de dentes permanentes (simples ou com alveoloplastia)." },
              { title: "Denominador", text: "Total de procedimentos preventivos + curativos + exodontias." }
            ],
            technicalDetails: {
              procedures: [
                "04.14.02.013-8 - Exodontia de dente permanente",
                "04.14.02.014-6 - Exodontia m√∫ltipla com alveoloplastia por sextante"
              ],
              cbos: ["Cirurgi√£o-Dentista (2232)"],
              forms: ["MIAOI -> Adicionar procedimento pelo c√≥digo SIGTAP"]
            }
          },
          {
            id: "B4",
            code: "B4",
            title: "Escova√ß√£o Supervisionada",
            iconName: "Smile",
            category: "Coletivo",
            targetDescription: "> 100%",
            unit: "cobertura",
            description: "Propor√ß√£o de crian√ßas (6-12 anos) beneficiadas com escova√ß√£o supervisionada.",
            requirements: [
              { title: "P√∫blico", text: "Crian√ßas de 6 a 12 anos vinculadas √† equipe." },
              { title: "A√ß√£o", text: "A√ß√£o Coletiva de Escova√ß√£o Dental Supervisionada." }
            ],
            technicalDetails: {
              procedures: ["01.01.02.003-1 - A√ß√£o Coletiva de Escova√ß√£o Dental Supervisionada"],
              cbos: [
                "Cirurgi√£o-Dentista (2232)",
                "T√©cnico em Sa√∫de Bucal - TSB (3224-05, 3224-25)",
                "Auxiliar em Sa√∫de Bucal - ASB (3224-15, 3224-30)"
              ],
              forms: ["Ficha de Atividade Coletiva -> Tipo: Educa√ß√£o em Sa√∫de -> Pr√°tica: Escova√ß√£o Dental Supervisionada"]
            }
          },
          {
            id: "B5",
            code: "B5",
            title: "Procedimentos Preventivos",
            iconName: "Smile",
            category: "Preventivo",
            targetDescription: "80% a 85%",
            unit: "% preventivos",
            description: "Propor√ß√£o de procedimentos preventivos individuais em rela√ß√£o ao total de procedimentos.",
            requirements: [
              { title: "Numerador", text: "A√ß√µes como selante, fl√∫or, evidencia√ß√£o de placa, orienta√ß√£o de higiene." },
              { title: "Meta", text: "Foco na preven√ß√£o. Par√¢metro √ìtimo entre 80% e 85%." }
            ],
            technicalDetails: {
              procedures: [
                "01.01.02.006-6 - Aplica√ß√£o de selante",
                "01.01.02.007-4 - Aplica√ß√£o t√≥pica de fl√∫or",
                "01.01.02.008-2 - Evidencia√ß√£o de placa bacteriana",
                "01.01.02.010-4 - Orienta√ß√£o de higiene bucal",
                "01.01.02.005-8 - Aplica√ß√£o de cariost√°tico",
                "01.01.02.009-0 - Selamento provis√≥rio"
              ],
              cbos: ["Cirurgi√£o-Dentista (2232)", "T√©cnico em Sa√∫de Bucal (3224)"],
              forms: ["MIAOI -> Registro de Procedimentos"]
            }
          },
          {
            id: "B6",
            code: "B6",
            title: "Tratamento Restaurador (ART)",
            iconName: "Smile",
            category: "Curativo",
            targetDescription: "> 8%",
            unit: "% ART",
            description: "Propor√ß√£o de Tratamento Restaurador Atraum√°tico (ART) em rela√ß√£o aos procedimentos restauradores.",
            requirements: [
              { title: "T√©cnica", text: "Minimamente invasiva, sem uso de 'motorzinho', usando ion√¥mero de vidro." },
              { title: "Numerador", text: "Procedimentos de ART (C√≥d 03.07.01.007-4)." }
            ],
            technicalDetails: {
              procedures: ["03.07.01.007-4 - Tratamento Restaurador Atraum√°tico (TRA/ART)"],
              cbos: ["Cirurgi√£o-Dentista (2232)"],
              forms: ["MIAOI -> Adicionar procedimento"]
            }
          }
        ];

        const App = () => {
          const [activeTab, setActiveTab] = useState("APS");
          const [selectedCategory, setSelectedCategory] = useState("Todos");
          const [searchTerm, setSearchTerm] = useState("");

          let currentIndicators = [];
          let headerTitle = "";
          let headerSubtitle = "";
          let headerIconName = "Activity";
          let headerColorClass = "bg-blue-100 text-blue-600";

          switch(activeTab) {
            case "APS":
              currentIndicators = apsIndicators;
              headerTitle = "Aten√ß√£o Prim√°ria";
              headerSubtitle = "Indicadores de Desempenho (C1-C7)";
              headerIconName = "Users";
              headerColorClass = "bg-blue-100 text-blue-600";
              break;
            case "eMulti":
              currentIndicators = eMultiIndicators;
              headerTitle = "Equipe eMulti";
              headerSubtitle = "Indicadores Multiprofissionais (M1-M2)";
              headerIconName = "ListChecks";
              headerColorClass = "bg-purple-100 text-purple-600";
              break;
            case "Bucal":
              currentIndicators = oralHealthIndicators;
              headerTitle = "Sa√∫de Bucal";
              headerSubtitle = "Indicadores Odontol√≥gicos (B1-B6)";
              headerIconName = "Smile";
              headerColorClass = "bg-teal-100 text-teal-600";
              break;
            case "ACS":
              currentIndicators = acsIndicators;
              headerTitle = "Cadastro & ACS";
              headerSubtitle = "V√≠nculo e Territ√≥rio (Nota T√©cnica 30/2025)";
              headerIconName = "MapPinned";
              headerColorClass = "bg-orange-100 text-orange-600";
              break;
            default:
              currentIndicators = apsIndicators;
          }
          
          const categories = ["Todos", ...new Set(currentIndicators.map(i => i.category))];
          
          // L√≥gica de Filtro Atualizada (Categoria + Busca por Texto)
          const filteredIndicators = currentIndicators.filter(indicator => {
            const matchesCategory = selectedCategory === "Todos" || indicator.category === selectedCategory;
            const searchLower = searchTerm.toLowerCase();
            const matchesSearch = 
                indicator.title.toLowerCase().includes(searchLower) || 
                indicator.code.toLowerCase().includes(searchLower) || 
                (indicator.description && indicator.description.toLowerCase().includes(searchLower)) ||
                // Search in requirements
                (indicator.requirements && indicator.requirements.some(req => 
                    req.title.toLowerCase().includes(searchLower) || 
                    req.text.toLowerCase().includes(searchLower)
                )) ||
                // Search in technicalDetails
                (indicator.technicalDetails && (
                    indicator.technicalDetails.procedures.some(p => p.toLowerCase().includes(searchLower)) ||
                    indicator.technicalDetails.cbos.some(c => c.toLowerCase().includes(searchLower)) ||
                    indicator.technicalDetails.forms.some(f => f.toLowerCase().includes(searchLower))
                ));

            return matchesCategory && matchesSearch;
          });

          return (
            <div className="flex min-h-screen font-sans text-slate-800">
              
              {/* Sidebar de Navega√ß√£o */}
              <aside className="w-64 bg-slate-900 text-white flex-shrink-0 hidden md:flex flex-col">
                <div className="p-6 border-b border-slate-800">
                  <h1 className="text-xl font-bold flex items-center gap-2">
                    <Icon name="Activity" className="w-8 h-8 text-indigo-400" />
                    SYSMAR      
                  </h1>
                  <p className="text-xs text-slate-400 mt-1">Painel de Metas 2025</p>
                </div>

                <nav className="p-4 space-y-2 flex-1">
                  <div className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 px-2">
                    M√≥dulos de Gest√£o
                  </div>
                  
                  <button 
                    onClick={() => {setActiveTab("APS"); setSelectedCategory("Todos"); setSearchTerm("");}}
                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${
                      activeTab === "APS" 
                      ? "bg-indigo-600 text-white shadow-lg shadow-indigo-900/50" 
                      : "text-slate-400 hover:bg-slate-800 hover:text-white"
                    }`}
                  >
                    <i className="fa-solid fa-house-medical w-5 h-5 flex items-center justify-center"></i>
                    <span className="font-medium">Aten√ß√£o Prim√°ria</span>
                  </button>

                  <button 
                    onClick={() => {setActiveTab("ACS"); setSelectedCategory("Todos"); setSearchTerm("");}}
                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${
                      activeTab === "ACS" 
                      ? "bg-orange-600 text-white shadow-lg shadow-orange-900/50" 
                      : "text-slate-400 hover:bg-slate-800 hover:text-white"
                    }`}
                  >
                    <i className="fa-solid fa-house-medical-circle-check w-5 h-5 flex items-center justify-center"></i>
                    <span className="font-medium">Cadastro & ACS</span>
                  </button>

                  <button 
                    onClick={() => {setActiveTab("eMulti"); setSelectedCategory("Todos"); setSearchTerm("");}}
                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${
                      activeTab === "eMulti" 
                      ? "bg-purple-600 text-white shadow-lg shadow-purple-900/50" 
                      : "text-slate-400 hover:bg-slate-800 hover:text-white"
                    }`}
                  >
                    <i className="fa-solid fa-people-line w-5 h-5 flex items-center justify-center"></i>
                    <span className="font-medium">Equipe eMulti</span>
                  </button>

                  <button 
                    onClick={() => {setActiveTab("Bucal"); setSelectedCategory("Todos"); setSearchTerm("");}}
                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${
                      activeTab === "Bucal" 
                      ? "bg-teal-600 text-white shadow-lg shadow-teal-900/50" 
                      : "text-slate-400 hover:bg-slate-800 hover:text-white"
                    }`}
                  >
                    <Icon name="Smile" className="w-5 h-5" />
                    <span className="font-medium">Sa√∫de Bucal</span>
                  </button>
                </nav>

                <div className="p-4 bg-slate-950 text-xs text-slate-500">
                  Baseado nas Notas T√©cnicas 2024/2025 (C1-C7, M1-M2, B1-B6, NT30)
                </div>
              </aside>

              {/* Conte√∫do Principal */}
              <main className="flex-1 overflow-y-auto h-screen">
                {/* Mobile Header */}
                <div className="md:hidden bg-slate-900 text-white p-4">
                  <div className="flex justify-between items-center mb-4">
                    <h1 className="font-bold flex items-center gap-2">
                      <Icon name="Activity" className="w-5 h-5 text-indigo-400" />
                      Gestor SUS
                    </h1>
                  </div>
                  <div className="flex gap-2 overflow-x-auto pb-2 scrollbar-hide">
                      <button 
                        onClick={() => {setActiveTab("APS"); setSearchTerm("");}} 
                        className={`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap font-medium ${activeTab === "APS" ? "bg-indigo-600" : "bg-slate-800"}`}
                      >APS</button>
                      <button 
                        onClick={() => {setActiveTab("ACS"); setSearchTerm("");}} 
                        className={`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap font-medium ${activeTab === "ACS" ? "bg-orange-600" : "bg-slate-800"}`}
                      >ACS</button>
                      <button 
                        onClick={() => {setActiveTab("eMulti"); setSearchTerm("");}} 
                        className={`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap font-medium ${activeTab === "eMulti" ? "bg-purple-600" : "bg-slate-800"}`}
                      >eMulti</button>
                      <button 
                        onClick={() => {setActiveTab("Bucal"); setSearchTerm("");}} 
                        className={`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap font-medium ${activeTab === "Bucal" ? "bg-teal-600" : "bg-slate-800"}`}
                      >S. Bucal</button>
                  </div>
                </div>

                <div className="p-6 md:p-10 max-w-6xl mx-auto">
                  
                  <div className="mb-8">
                    <h2 className="text-3xl font-bold text-slate-900 flex items-center gap-3">
                        {headerTitle}
                    </h2>
                    <p className="text-slate-500 mt-1">
                        {headerSubtitle}
                    </p>
                  </div>

                  {/* --- NOVA BARRA DE BUSCA E FILTROS --- */}
                  <div className="flex flex-col md:flex-row justify-between items-start md:items-end gap-4 w-full mb-6">
                    
                    {/* Campo de Busca */}
                    <div className="relative w-full md:w-72">
                        <span className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <Icon name="Search" className="h-4 w-4 text-slate-400" />
                        </span>
                        <input
                        type="text"
                        placeholder="Buscar (ex: Press√£o, C1...)"
                        value={searchTerm}
                        onChange={(e) => setSearchTerm(e.target.value)}
                        className="block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg leading-5 bg-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out shadow-sm"
                        />
                    </div>

                    {/* Filtros de Categoria */}
                    <div className="flex gap-2 overflow-x-auto pb-2 max-w-full scrollbar-hide">
                        {categories.map(cat => (
                        <button
                            key={cat}
                            onClick={() => setSelectedCategory(cat)}
                            className={`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-colors border ${
                            selectedCategory === cat 
                                ? "bg-indigo-100 text-indigo-700 border-indigo-200" 
                                : "bg-white text-slate-600 border-slate-200 hover:bg-slate-50"
                            }`}
                        >
                            {cat}
                        </button>
                        ))}
                    </div>
                  </div>
                  
                  {/* Grid de Cards */}
                  <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    {filteredIndicators.map((indicator) => (
                      <div 
                        key={indicator.id}
                        className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-all duration-300 group"
                      >
                        {/* Header do Card */}
                        <div className="p-6 border-b border-slate-100 bg-slate-50/50">
                          <div className="flex justify-between items-start mb-3">
                            <div className="flex items-center gap-3">
                              <span className={`w-10 h-10 rounded-lg flex items-center justify-center ${headerColorClass}`}>
                                <Icon name={indicator.iconName || "Target"} className="w-6 h-6" />
                              </span>
                              <div>
                                <span className="text-xs font-bold text-slate-400 uppercase tracking-wider">
                                  {indicator.code}
                                </span>
                                <h3 className="text-xl font-bold text-slate-800 leading-tight">
                                  {indicator.title}
                                </h3>
                              </div>
                            </div>
                            <div className="bg-white px-3 py-1 rounded-full border border-emerald-100 shadow-sm flex flex-col items-end">
                               <span className="text-[10px] text-slate-400 font-bold uppercase">Meta / Peso</span>
                               <span className="text-lg font-black text-emerald-600 whitespace-nowrap">{indicator.targetDescription}</span>
                            </div>
                          </div>
                          <p className="text-slate-600 text-sm leading-relaxed">
                            {indicator.description}
                          </p>
                        </div>

                        {/* Se√ß√£o de Especifica√ß√µes T√©cnicas (Dispon√≠vel para todos) */}
                        {indicator.technicalDetails && (
                          <div className="bg-slate-50/80 p-5 border-b border-slate-100">
                            <div className="flex items-center gap-2 mb-3">
                              <Icon name="Briefcase" className="w-4 h-4 text-indigo-600" />
                              <h4 className="text-sm font-bold text-slate-700 uppercase tracking-wide">Especifica√ß√µes T√©cnicas</h4>
                            </div>
                            
                            <div className="space-y-4">
                              {/* Procedimentos */}
                              <div>
                                 <div className="flex items-center gap-2 text-xs font-bold text-slate-500 uppercase mb-1">
                                   <Icon name="Sticker" className="w-3 h-3" /> Procedimentos / C√≥digos
                                 </div>
                                 <ul className="list-disc list-inside text-sm text-slate-600 pl-1 space-y-1">
                                   {indicator.technicalDetails.procedures.map((proc, idx) => (
                                     <li key={idx}>{proc}</li>
                                   ))}
                                 </ul>
                              </div>

                              {/* CBOs */}
                              <div>
                                 <div className="flex items-center gap-2 text-xs font-bold text-slate-500 uppercase mb-1">
                                   <Icon name="Users" className="w-3 h-3" /> Quem pode registrar (CBO)
                                 </div>
                                 <div className="flex flex-wrap gap-1">
                                   {indicator.technicalDetails.cbos.map((cbo, idx) => (
                                     <span key={idx} className="text-[10px] bg-white border border-slate-200 px-2 py-1 rounded text-slate-600">
                                       {cbo}
                                     </span>
                                   ))}
                                 </div>
                              </div>

                               {/* Fichas */}
                               <div>
                                 <div className="flex items-center gap-2 text-xs font-bold text-slate-500 uppercase mb-1">
                                   <Icon name="FileSpreadsheet" className="w-3 h-3" /> Fichas / Sistemas
                                 </div>
                                 <ul className="list-disc list-inside text-sm text-slate-600 pl-1 space-y-1">
                                   {indicator.technicalDetails.forms.map((form, idx) => (
                                     <li key={idx}>{form}</li>
                                   ))}
                                 </ul>
                              </div>
                            </div>
                          </div>
                        )}

                        {/* Lista de Requisitos (Boas Pr√°ticas) */}
                        <div className="p-6 bg-white">
                          <div className="flex items-center gap-2 mb-4">
                            <Icon name="ListChecks" className="w-4 h-4 text-indigo-500" />
                            <h4 className="text-sm font-bold text-slate-700 uppercase tracking-wide">
                              Regras & Requisitos
                            </h4>
                          </div>
                          
                          <ul className="space-y-3">
                            {indicator.requirements.map((req, idx) => (
                              <li key={idx} className="flex gap-3 text-sm group-hover:bg-slate-50 p-2 rounded-lg transition-colors">
                                <Icon name="CheckCircle2" className="w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5" />
                                <div>
                                  <span className="font-semibold text-slate-800 mr-1">
                                    {req.title}:
                                  </span>
                                  <span className="text-slate-600">
                                    {req.text}
                                  </span>
                                </div>
                              </li>
                            ))}
                          </ul>
                        </div>

                      </div>
                    ))}
                  </div>
                  
                  <div className="mt-10 text-center text-slate-400 text-sm pb-10">
                    <p>Sistema atualizado com as Notas T√©cnicas 2024/2025 - Minist√©rio da Sa√∫de</p>
                  </div>

                </div>
              </main>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
